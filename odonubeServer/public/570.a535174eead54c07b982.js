"use strict";(self.webpackChunkodonube_front=self.webpackChunkodonube_front||[]).push([[570],{3570:(Y,Z,u)=>{u.r(Z),u.d(Z,{DoctoresModule:()=>S});var m=u(8583),p=u(1841),s=u(665),y=u(9321),_=u(9577),f=u(5855),e=u(639),A=u(6290),b=u(6043);let D=(()=>{class r{constructor(){this.aMenu={},this.menuOn=!1}ngOnInit(){this.menuOn=!0,this.aMenu={aMenu:this.menuOn}}tMenu(){this.menuOn=!this.menuOn,this.aMenu={aMenu:this.menuOn}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-doctores"]],decls:8,vars:1,consts:[[1,"appBox"],[1,"headerBox"],[3,"menu"],[1,"panelBox"],[1,"menuBox",3,"ngClass"],[1,"contentBox"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"app-header",2),e.NdJ("menu",function(){return t.tMenu()}),e.qZA(),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"app-sidemenu"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"router-outlet"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngClass",t.aMenu))},directives:[A.G,m.mk,b.x,f.lC],styles:[""]}),r})();var v=u(8239),T=u(827);let C=(()=>{class r{constructor(o){this.http=o,this.localSource="http://localhost:6800",this.productionSource="https://api.odonube.com",this.mySource=this.productionSource}create(o){let t=new p.WM;t=t.append("Content-Type","application/json");var a=this.mySource;a+="/doctores/";let l=o;return new Promise((d,c)=>{this.http.post(a,l,{headers:t}).subscribe(g=>{console.log(g),d(g)},g=>{console.log(g),c(new Error(g.error.message))})})}update(){let o=new p.WM;o=o.append("Content-Type","application/json");var n=this.mySource;n+="/doctores/";let a={};return new Promise((l,d)=>{this.http.put(n,a,{headers:o}).subscribe(c=>{l(c)},c=>{d(new Error(c.error.message))})})}getOne(){let o=new p.WM;o=o.append("Content-Type","application/json");var n=this.mySource;return n+="/doctores/",new Promise((l,d)=>{this.http.get(n,{params:{},headers:o}).subscribe(c=>{l(c)},c=>{d(new Error(c.error.message))})})}getAll(){let o=new p.WM;o=o.append("Content-Type","application/json");var n=this.mySource;return n+="/doctores/all",new Promise((l,d)=>{this.http.get(n,{params:{},headers:o}).subscribe(c=>{l(c)},c=>{d(new Error(c.error.message))})})}deleteOne(){let o=new p.WM;o=o.append("Content-Type","application/json");var n=this.mySource;return n+="/doctores/",new Promise((l,d)=>{this.http.delete(n,{params:{},headers:o}).subscribe(c=>{l(c)},c=>{d(new Error(c.error.message))})})}deleteAll(){let o=new p.WM;o=o.append("Content-Type","application/json");var n=this.mySource;return n+="/doctores/all",new Promise((l,d)=>{this.http.delete(n,{params:{},headers:o}).subscribe(c=>{l(c)},c=>{d(new Error(c.error.message))})})}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(p.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),x=(()=>{class r{constructor(){this.msg="",this.closeError=new e.vpe}ngOnInit(){}close(){this.closeError.emit("Cerrando error")}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-error"]],inputs:{msg:"msg"},outputs:{closeError:"closeError"},decls:13,vars:1,consts:[[1,"blackBox",3,"click"],[1,"alertBox"],[1,"errorHeader"],[1,"errorContent"],[2,"font-size","30px"],["type","button",1,"formButton",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.close()}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"X"),e.qZA(),e.TgZ(4,"p",3),e.TgZ(5,"strong",4),e._uU(6,"\xa1Error!"),e.qZA(),e._UZ(7,"br"),e._UZ(8,"br"),e._uU(9),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){return t.close()}),e.TgZ(11,"p"),e._uU(12,"VOLVER"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(9),e.hij(" ",t.msg,""))},styles:['.blackBox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;transition:all 1s ease;background-color:#0e04048e;border:none}.alertBox[_ngcontent-%COMP%]{width:380px;height:270px;margin:auto;position:relative;top:30%;background-color:#fff;border-radius:12px;box-shadow:4px 6px 26px 6px #0000007a}.errorHeader[_ngcontent-%COMP%]{width:90px;height:90px;font-size:46px;color:#fff;background-color:#eb1b1b;border-radius:100%;position:absolute;top:-50px;left:39%;display:flex;justify-content:center;align-items:center;font-family:"Roboto Condensed",sans-serif}.errorContent[_ngcontent-%COMP%]{font-size:16px;color:#000000bd;padding-top:60px;padding-bottom:50px;text-align:center;font-family:"Roboto",sans-serif}button[_ngcontent-%COMP%]{border:none;background:none}.formButton[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex;align-items:center;height:48px;background-color:#eb1b1b;border-radius:8px;cursor:pointer}.formButton[_ngcontent-%COMP%]:hover{color:red;background-color:#ee2c2c}.formButton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:15px;width:100%;text-decoration:none!important;font-family:"Roboto Condensed",sans-serif}']}),r})();function w(r,i){1&r&&(e.TgZ(0,"div",15),e._uU(1," Por favor ingrese el nombre del doctor "),e.qZA())}function E(r,i){1&r&&(e.TgZ(0,"div",15),e._uU(1," Por favor ingrese la especialidad del doctor "),e.qZA())}function I(r,i){1&r&&(e.TgZ(0,"div",15),e._uU(1," Por favor ingrese la cualificaci\xf3n del doctor "),e.qZA())}function U(r,i){1&r&&(e.TgZ(0,"div",15),e._uU(1," Por favor ingrese una direcci\xf3n "),e.qZA())}function N(r,i){1&r&&(e.TgZ(0,"div",15),e._uU(1," Por favor ingrese el n\xfamero de contacto del doctor "),e.qZA())}function M(r,i){1&r&&(e.TgZ(0,"div",15),e._uU(1," Por favor ingrese la fecha de ingreso del doctor al sistema "),e.qZA())}let B=(()=>{class r{constructor(o,t,n,a){this.auth=o,this.doctores=t,this.fb=n,this.router=a,this.onData=new e.vpe}ngOnInit(){this.initForm(),this.showError={errorAct:!1}}initForm(){this.registroDoctor=new s.cw({speciality:new s.NI("",s.kI.required),name:new s.NI("",s.kI.required),contact:new s.NI("",s.kI.required),qualification:new s.NI("",s.kI.required),address:new s.NI("",[s.kI.required]),date:new s.NI("",s.kI.required)})}get fDoctor(){return this.registroDoctor.controls}endRegistro(){var o=this;return(0,v.Z)(function*(){try{var t=o.registroDoctor.value;let n,a={speciality:t.speciality,name:t.name,contact:t.contact,qualification:t.qualification,address:t.address,date:t.date};if(n=o.catchDoctorErrors(),n)o.openError("Algunos campos son inv\xe1lidos. Por favor, revise el formulario e intente de nuevo");else{let l=yield o.doctores.create(a);console.log(l),o.router.navigateByUrl("doctores/lista")}}catch(n){o.openError(n.message)}})()}catchDoctorErrors(){return!!this.fDoctor.name.errors&&this.fDoctor.name.errors.required||!!this.fDoctor.contact.errors&&this.fDoctor.contact.errors.required||!!this.fDoctor.speciality.errors&&this.fDoctor.speciality.errors.required||!!this.fDoctor.qualification.errors&&this.fDoctor.qualification.errors.required||!!this.fDoctor.date.errors&&this.fDoctor.date.errors.minlength||!!this.fDoctor.address.errors&&this.fDoctor.address.errors.required}openError(o){this.errorMsg=o,this.showError={errorAct:!0}}closeError(){this.showError={errorAct:!1}}resetForms(){this.registroDoctor.reset()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(T.e),e.Y36(C),e.Y36(s.qu),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registro"]],inputs:{editMode:"editMode",usuario:"usuario"},outputs:{onData:"onData"},decls:38,vars:9,consts:[[1,"modBox"],[1,"cardBox"],[1,"formBox",3,"formGroup","ngSubmit"],[1,"formContent"],[1,"formInput"],["for",""],["type","text","formControlName","name","name","name",1,"lInput"],["class","errorTag",4,"ngIf"],["type","text","formControlName","speciality","name","speciality",1,"lInput"],["type","text","formControlName","qualification","name","qualification",1,"lInput"],["type","text","formControlName","address","name","address",1,"lInput"],["type","text","formControlName","contact","name","contact",1,"lInput"],["type","date","formControlName","date","name","date",1,"lInput"],["type","submit",1,"buttonBox"],[1,"errorBox",3,"msg","ngClass","closeError"],[1,"errorTag"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return t.endRegistro()}),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"label",5),e._uU(6,"Nombre del Doctor*"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.YNc(8,w,2,0,"div",7),e.TgZ(9,"div",4),e.TgZ(10,"label",5),e._uU(11,"Especialidad*"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.YNc(13,E,2,0,"div",7),e.TgZ(14,"div",4),e.TgZ(15,"label",5),e._uU(16,"Cualificaci\xf3n*"),e.qZA(),e._UZ(17,"input",9),e.qZA(),e.YNc(18,I,2,0,"div",7),e.TgZ(19,"div",4),e.TgZ(20,"label",5),e._uU(21,"Direcci\xf2n*"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.YNc(23,U,2,0,"div",7),e.TgZ(24,"div",4),e.TgZ(25,"label",5),e._uU(26,"N\xfamero de contacto*"),e.qZA(),e._UZ(27,"input",11),e.qZA(),e.YNc(28,N,2,0,"div",7),e.TgZ(29,"div",4),e.TgZ(30,"label",5),e._uU(31,"Fecha*"),e.qZA(),e._UZ(32,"input",12),e.qZA(),e.YNc(33,M,2,0,"div",7),e.qZA(),e.TgZ(34,"button",13),e.TgZ(35,"p"),e._uU(36,"Registrar doctor"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"app-error",14),e.NdJ("closeError",function(){return t.closeError()}),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",t.registroDoctor),e.xp6(6),e.Q6J("ngIf",(null==t.fDoctor.name.errors?null:t.fDoctor.name.errors.required)&&(t.fDoctor.name.touched||t.fDoctor.name.dirty)),e.xp6(5),e.Q6J("ngIf",(null==t.fDoctor.speciality.errors?null:t.fDoctor.speciality.errors.required)&&(t.fDoctor.speciality.touched||t.fDoctor.speciality.dirty)),e.xp6(5),e.Q6J("ngIf",(null==t.fDoctor.qualification.errors?null:t.fDoctor.qualification.errors.required)&&(t.fDoctor.qualification.touched||t.fDoctor.qualification.dirty)),e.xp6(5),e.Q6J("ngIf",(null==t.fDoctor.address.errors?null:t.fDoctor.address.errors.required)&&(t.fDoctor.address.touched||t.fDoctor.address.dirty)),e.xp6(5),e.Q6J("ngIf",(null==t.fDoctor.contact.errors?null:t.fDoctor.contact.errors.required)&&(t.fDoctor.contact.touched||t.fDoctor.contact.dirty)),e.xp6(5),e.Q6J("ngIf",(null==t.fDoctor.date.errors?null:t.fDoctor.date.errors.required)&&(t.fDoctor.date.touched||t.fDoctor.date.dirty)),e.xp6(4),e.Q6J("msg",t.errorMsg)("ngClass",t.showError))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.O5,x,m.mk],styles:[""]}),r})();var h=u(9976);function k(r,i){if(1&r&&(e.TgZ(0,"th",16),e._uU(1),e.qZA()),2&r){const o=i.$implicit;e.xp6(1),e.Oqu(o)}}function F(r,i){if(1&r&&(e.TgZ(0,"td",24),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.qZA()),2&r){const o=i.$implicit;e.xp6(2),e.Oqu(o)}}function J(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"tr",15),e.TgZ(1,"div",20),e.TgZ(2,"fa-icon",21),e.NdJ("click",function(n){const l=e.CHM(o).index;return e.oxw(2).openUpdate(n,l)}),e.qZA(),e.TgZ(3,"fa-icon",22),e.NdJ("click",function(n){const l=e.CHM(o).index;return e.oxw(2).confirmDelete(n,l)}),e.qZA(),e.qZA(),e.YNc(4,F,3,1,"td",23),e.qZA()}if(2&r){const o=i.$implicit,t=e.oxw(2);e.xp6(2),e.Q6J("icon",t.faEdit),e.xp6(1),e.Q6J("icon",t.faTrash),e.xp6(1),e.Q6J("ngForOf",o)}}function O(r,i){if(1&r&&(e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"table",13),e.TgZ(3,"thead",14),e.TgZ(4,"tr",15),e.TgZ(5,"th",16),e._uU(6,"Acciones"),e.qZA(),e.YNc(7,k,2,1,"th",17),e.qZA(),e.qZA(),e.TgZ(8,"tbody",18),e.YNc(9,J,5,3,"tr",19),e.qZA(),e.qZA(),e._UZ(10,"br"),e._UZ(11,"br"),e.qZA(),e.qZA()),2&r){const o=e.oxw();e.xp6(7),e.Q6J("ngForOf",o.fields),e.xp6(2),e.Q6J("ngForOf",o.values)}}function R(r,i){1&r&&(e.TgZ(0,"div",11),e.TgZ(1,"p"),e._uU(2,"No hay elementos para mostrar"),e.qZA(),e.qZA())}const P=[{path:"",component:D,children:[{path:"registro",component:B},{path:"lista",component:(()=>{class r{constructor(o,t,n,a){this.auth=o,this.doctores=t,this.router=n,this.fb=a,this.faEye=h.Mdf,this.faTrash=h.I7k,this.faPdf=h.gSj,this.faEdit=h.Xcf}ngOnInit(){var o=this;return(0,v.Z)(function*(){let t=yield o.doctores.getAll();o.fields=t.listKeys,o.values=t.data,o.addText="Registrar doctor"})()}initForm(){this.filterForm=new s.cw({tipo:new s.NI("")})}initComponent(o,t,n,a){this.endpoint=o,this.title=t,this.addText=n,this.name=a}deleteItem(o,t){}confirmDelete(o,t){this.deletedItem=t,this.openConfirm()}openConfirm(){this.showConfirm={confirmAct:!0}}closeConfirm(){this.showConfirm={confirmAct:!1}}openUpdate(o,t){this.router.navigateByUrl("/doctores/actualizar/"+t)}agregar(){this.router.navigateByUrl("/doctores/registro")}habilitarElemento(o,t,n){}openError(o){this.errorMsg=o,this.showError={errorAct:!0}}closeError(){this.showError={errorAct:!1}}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(T.e),e.Y36(C),e.Y36(f.F0),e.Y36(s.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-lista"]],decls:19,vars:4,consts:[[1,"btnBox"],[1,"buttonBox",3,"click"],["class","cardBox",4,"ngIf"],[1,"confirmBox",3,"ngClass"],[1,"blackBox",3,"click"],[1,"logBox2"],[1,"confirmHeader"],[1,"confirmContent"],[1,"confirmButtons"],["type","button",1,"confirm","buttonBox",3,"click"],["type","button",1,"goback","buttonBox",3,"click"],[1,"cardBox"],[1,"listBox"],[1,"classtable"],[1,"classthead"],[1,"classtr"],["scope","col",1,"classth"],["class","classth","scope","col",4,"ngFor","ngForOf"],[1,"classtbody"],["class","classtr",4,"ngFor","ngForOf"],[1,"btn-details"],["size","2x",1,"faIcon",2,"color","grey",3,"icon","click"],["size","2x",1,"faIcon",2,"color","red",3,"icon","click"],["class","classtd",4,"ngFor","ngForOf"],[1,"classtd"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return t.agregar()}),e._uU(2),e.qZA(),e.qZA(),e.YNc(3,O,12,2,"div",2),e.YNc(4,R,3,0,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.NdJ("click",function(){return t.closeConfirm()}),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"p",6),e._uU(9,"CONFIRMACI\xd3N"),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"Segro que quiere eliminar este elemento"),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"button",9),e.NdJ("click",function(a){return t.deleteItem(a,t.deletedItem)}),e.TgZ(14,"p"),e._uU(15,"S\xcd"),e.qZA(),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return t.closeConfirm()}),e.TgZ(17,"p"),e._uU(18,"NO"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.hij(" ",t.addText," "),e.xp6(1),e.Q6J("ngIf",!t.isEmpty),e.xp6(1),e.Q6J("ngIf",t.isEmpty),e.xp6(1),e.Q6J("ngClass",t.showConfirm))},directives:[m.O5,m.mk,m.sg,_.BN],styles:[""]}),r})()}]}];let q=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[f.Bz.forChild(P)],f.Bz]}),r})(),S=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.ez,y.SharedModule,s.u5,p.JF,s.UX,_.uH,q],q]}),r})()}}]);